"use strict";(self.webpackChunk_woocommerce_storybook=self.webpackChunk_woocommerce_storybook||[]).push([[1190],{"../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,{A:()=>_arrayLikeToArray})},"../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}__webpack_require__.d(__webpack_exports__,{A:()=>_iterableToArray})},"../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_toConsumableArray});var arrayLikeToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var iterableToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),unsupportedIterableToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.A)(arr)}(arr)||(0,iterableToArray.A)(arr)||(0,unsupportedIterableToArray.A)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/typeof.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}__webpack_require__.d(__webpack_exports__,{A:()=>_typeof})},"../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_unsupportedIterableToArray});var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.A)(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.A)(o,minLen):void 0}}},"../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>modal});var esm_extends=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),classnames=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_dom=__webpack_require__("../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),use_instance_id=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),use_focus_on_mount=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-focus-on-mount/index.js"),use_constrained_tabbing=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-constrained-tabbing/index.js"),use_focus_return=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-focus-return/index.js"),use_focus_outside=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-focus-outside/index.js"),use_merge_refs=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+keycodes@3.47.0/node_modules/@wordpress/keycodes/build-module/index.js"),i18n_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+i18n@4.6.1/node_modules/@wordpress/i18n/build-module/index.js"),close_small=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.4.0/node_modules/@wordpress/icons/build-module/library/close-small.js"),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");const LIVE_REGION_ARIA_ROLES=new Set(["alert","status","log","marquee","timer"]);let hiddenElements=[],isHidden=!1;function hideApp(unhiddenElement){if(isHidden)return;const elements=document.body.children;(0,lodash.forEach)(elements,(element=>{element!==unhiddenElement&&function elementShouldBeHidden(element){const role=element.getAttribute("role");return!("SCRIPT"===element.tagName||element.hasAttribute("aria-hidden")||element.hasAttribute("aria-live")||LIVE_REGION_ARIA_ROLES.has(role))}(element)&&(element.setAttribute("aria-hidden","true"),hiddenElements.push(element))})),isHidden=!0}var build_module_button=__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/button/index.js"),style_provider=__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/style-provider/index.js");let openModalCount=0;const modal=(0,react.forwardRef)((function Modal(props,forwardedRef){const{bodyOpenClassName="modal-open",role="dialog",title=null,focusOnMount=!0,shouldCloseOnEsc=!0,shouldCloseOnClickOutside=!0,isDismissible=!0,aria={labelledby:null,describedby:null},onRequestClose,icon,closeButtonLabel,children,style,overlayClassName,className,contentLabel,onKeyDown,isFullScreen=!1,__experimentalHideHeader=!1}=props,ref=(0,react.useRef)(),instanceId=(0,use_instance_id.A)(Modal),headingId=title?`components-modal-header-${instanceId}`:aria.labelledby,focusOnMountRef=(0,use_focus_on_mount.A)(focusOnMount),constrainedTabbingRef=(0,use_constrained_tabbing.A)(),focusReturnRef=(0,use_focus_return.A)(),focusOutsideProps=(0,use_focus_outside.A)(onRequestClose);return(0,react.useEffect)((()=>(openModalCount++,1===openModalCount&&(hideApp(ref.current),document.body.classList.add(bodyOpenClassName)),()=>{openModalCount--,0===openModalCount&&(document.body.classList.remove(bodyOpenClassName),function showApp(){isHidden&&((0,lodash.forEach)(hiddenElements,(element=>{element.removeAttribute("aria-hidden")})),hiddenElements=[],isHidden=!1)}())})),[]),(0,react_dom.createPortal)((0,react.createElement)("div",{ref:(0,use_merge_refs.A)([ref,forwardedRef]),className:classnames_default()("components-modal__screen-overlay",overlayClassName),onKeyDown:function handleEscapeKeyDown(event){shouldCloseOnEsc&&event.keyCode===build_module._f&&!event.defaultPrevented&&(event.preventDefault(),onRequestClose&&onRequestClose(event))}},(0,react.createElement)(style_provider.A,{document},(0,react.createElement)("div",(0,esm_extends.A)({className:classnames_default()("components-modal__frame",className,{"is-full-screen":isFullScreen}),style,ref:(0,use_merge_refs.A)([constrainedTabbingRef,focusReturnRef,focusOnMountRef]),role,"aria-label":contentLabel,"aria-labelledby":contentLabel?null:headingId,"aria-describedby":aria.describedby,tabIndex:"-1"},shouldCloseOnClickOutside?focusOutsideProps:{},{onKeyDown}),(0,react.createElement)("div",{className:classnames_default()("components-modal__content",{"hide-header":__experimentalHideHeader}),role:"document"},!__experimentalHideHeader&&(0,react.createElement)("div",{className:"components-modal__header"},(0,react.createElement)("div",{className:"components-modal__header-heading-container"},icon&&(0,react.createElement)("span",{className:"components-modal__icon-container","aria-hidden":!0},icon),title&&(0,react.createElement)("h1",{id:headingId,className:"components-modal__header-heading"},title)),isDismissible&&(0,react.createElement)(build_module_button.A,{onClick:onRequestClose,icon:close_small.A,label:closeButtonLabel||(0,i18n_build_module.__)("Close dialog")})),children)))),document.body)}))},"../../node_modules/.pnpm/@wordpress+icons@8.4.0/node_modules/@wordpress/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@wordpress+primitives@3.56.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},"../../packages/js/components/src/media-uploader/stories/mock-media-uploader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>MockMediaUpload});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_wordpress_components__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/modal/index.js")),MockMediaUpload=function MockMediaUpload(_ref){var onSelect=_ref.onSelect,render=_ref.render,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.A)(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];return(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,render({open:function open(){return setOpen(!0)}}),isOpen&&(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.A,{title:"Media Modal",onRequestClose:function onRequestClose(event){setOpen(!1),event.stopPropagation()}},(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)("p",null,"Use the default built-in"," ",(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)("code",null,"MediaUploadComponent")," prop to render the WP Media Modal."),Array.apply(void 0,(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__.A)(Array(3))).map((function(n,i){return(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)("button",{key:i,onClick:function onClick(event){onSelect({alt:"Random",url:"https://picsum.photos/200?i=".concat(i)}),setOpen(!1),event.stopPropagation()},style:{marginRight:"16px"}},(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)("img",{src:"https://picsum.photos/200?i=".concat(i),alt:"Random",style:{maxWidth:"100px"}}))}))))};try{MockMediaUpload.displayName="MockMediaUpload",MockMediaUpload.__docgenInfo={description:"",displayName:"MockMediaUpload",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}},render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/stories/mock-media-uploader.tsx#MockMediaUpload"]={docgenInfo:MockMediaUpload.__docgenInfo,name:"MockMediaUpload",path:"../../packages/js/components/src/media-uploader/stories/mock-media-uploader.tsx#MockMediaUpload"})}catch(__react_docgen_typescript_loader_error){}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-iteration.js":(module,__unused_webpack_exports,__webpack_require__)=>{var bind=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/function-bind-context.js"),uncurryThis=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/function-uncurry-this.js"),IndexedObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/indexed-object.js"),toObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/to-object.js"),lengthOfArrayLike=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/length-of-array-like.js"),arraySpeciesCreate=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-species-create.js"),push=uncurryThis([].push),createMethod=function(TYPE){var IS_MAP=1===TYPE,IS_FILTER=2===TYPE,IS_SOME=3===TYPE,IS_EVERY=4===TYPE,IS_FIND_INDEX=6===TYPE,IS_FILTER_REJECT=7===TYPE,NO_HOLES=5===TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),length=lengthOfArrayLike(self),boundFunction=bind(callbackfn,that),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER||IS_FILTER_REJECT?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push(target,value)}else switch(TYPE){case 4:return!1;case 7:push(target,value)}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-method-has-species-support.js":(module,__unused_webpack_exports,__webpack_require__)=>{var fails=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/well-known-symbol.js"),V8_VERSION=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/engine-v8-version.js"),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails((function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo}))}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-species-constructor.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArray=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-array.js"),isConstructor=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-constructor.js"),isObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-object.js"),SPECIES=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/well-known-symbol.js")("species"),$Array=Array;module.exports=function(originalArray){var C;return isArray(originalArray)&&(C=originalArray.constructor,(isConstructor(C)&&(C===$Array||isArray(C.prototype))||isObject(C)&&null===(C=C[SPECIES]))&&(C=void 0)),void 0===C?$Array:C}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-species-create.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arraySpeciesConstructor=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-species-constructor.js");module.exports=function(originalArray,length){return new(arraySpeciesConstructor(originalArray))(0===length?0:length)}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/create-property.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toPropertyKey=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/to-property-key.js"),definePropertyModule=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/object-define-property.js"),createPropertyDescriptor=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/create-property-descriptor.js");module.exports=function(object,key,value){var propertyKey=toPropertyKey(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/does-not-exceed-safe-integer.js":module=>{var $TypeError=TypeError;module.exports=function(it){if(it>9007199254740991)throw $TypeError("Maximum allowed index exceeded");return it}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-array.js":(module,__unused_webpack_exports,__webpack_require__)=>{var classof=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/classof-raw.js");module.exports=Array.isArray||function isArray(argument){return"Array"===classof(argument)}},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/export.js"),fails=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/fails.js"),isArray=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-array.js"),isObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/is-object.js"),toObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/to-object.js"),lengthOfArrayLike=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/length-of-array-like.js"),doesNotExceedSafeInteger=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/does-not-exceed-safe-integer.js"),createProperty=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/create-property.js"),arraySpeciesCreate=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-species-create.js"),arrayMethodHasSpeciesSupport=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-method-has-species-support.js"),wellKnownSymbol=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/well-known-symbol.js"),V8_VERSION=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/engine-v8-version.js"),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails((function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array})),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,arity:1,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport("concat")},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i]))for(len=lengthOfArrayLike(E),doesNotExceedSafeInteger(n+len),k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k]);else doesNotExceedSafeInteger(n+1),createProperty(A,n++,E);return A.length=n,A}})},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/export.js"),$map=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-iteration.js").map;$({target:"Array",proto:!0,forced:!__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/array-method-has-species-support.js")("map")},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.date.to-string.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var uncurryThis=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/function-uncurry-this.js"),defineBuiltIn=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/define-built-in.js"),DatePrototype=Date.prototype,nativeDateToString=uncurryThis(DatePrototype.toString),thisTimeValue=uncurryThis(DatePrototype.getTime);"Invalid Date"!==String(new Date(NaN))&&defineBuiltIn(DatePrototype,"toString",(function toString(){var value=thisTimeValue(this);return value==value?nativeDateToString(this):"Invalid Date"}))},"../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/export.js"),toObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/to-object.js"),nativeKeys=__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/object-keys.js");$({target:"Object",stat:!0,forced:__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/internals/fails.js")((function(){nativeKeys(1)}))},{keys:function keys(it){return nativeKeys(toObject(it))}})},"../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,ButtonWithOnlyIcon:()=>ButtonWithOnlyIcon,DisabledDropZone:()=>DisabledDropZone,MaxUploadFileSize:()=>MaxUploadFileSize,default:()=>media_uploader_story});var toConsumableArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),esm_typeof=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/typeof.js"),asyncToGenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),regenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),notice=(__webpack_require__("../../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/notice/index.js")),svg=__webpack_require__("../../node_modules/.pnpm/@wordpress+primitives@3.4.1/node_modules/@wordpress/primitives/build-module/svg/index.js");const cloud_upload=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z"}));var esm_extends=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),build_module=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+i18n@4.6.1/node_modules/@wordpress/i18n/build-module/index.js")),build_module_button=__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/button/index.js");const form_file_upload=function FormFileUpload(_ref){let{accept,children,multiple=!1,onChange,onClick,render,...props}=_ref;const ref=(0,react.useRef)(),openFileDialog=()=>{ref.current.click()},ui=render?render({openFileDialog}):(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({onClick:openFileDialog},props),children);return(0,react.createElement)("div",{className:"components-form-file-upload"},ui,(0,react.createElement)("input",{type:"file",ref,multiple,style:{display:"none"},accept,onChange,onClick,"data-testid":"form-file-upload-input"}))};var classnames=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),icon=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.4.0/node_modules/@wordpress/icons/build-module/icon/index.js"),build_module_svg=__webpack_require__("../../node_modules/.pnpm/@wordpress+primitives@3.56.0/node_modules/@wordpress/primitives/build-module/svg/index.js");const library_upload=(0,react.createElement)(build_module_svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(build_module_svg.wA,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));var data_transfer=__webpack_require__("../../node_modules/.pnpm/@wordpress+dom@3.6.1/node_modules/@wordpress/dom/build-module/data-transfer.js"),use_ref_effect=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-ref-effect/index.js");function useFreshRef(value){const ref=(0,react.useRef)();return ref.current=value,ref}function useDropZone(_ref){let{isDisabled,onDrop:_onDrop,onDragStart:_onDragStart,onDragEnter:_onDragEnter,onDragLeave:_onDragLeave,onDragEnd:_onDragEnd,onDragOver:_onDragOver}=_ref;const onDropRef=useFreshRef(_onDrop),onDragStartRef=useFreshRef(_onDragStart),onDragEnterRef=useFreshRef(_onDragEnter),onDragLeaveRef=useFreshRef(_onDragLeave),onDragEndRef=useFreshRef(_onDragEnd),onDragOverRef=useFreshRef(_onDragOver);return(0,use_ref_effect.A)((element=>{if(isDisabled)return;let isDragging=!1;const{ownerDocument}=element;function maybeDragStart(event){isDragging||(isDragging=!0,ownerDocument.removeEventListener("dragenter",maybeDragStart),ownerDocument.addEventListener("dragend",maybeDragEnd),ownerDocument.addEventListener("mousemove",maybeDragEnd),onDragStartRef.current&&onDragStartRef.current(event))}function onDragEnter(event){event.preventDefault(),element.contains(event.relatedTarget)||onDragEnterRef.current&&onDragEnterRef.current(event)}function onDragOver(event){!event.defaultPrevented&&onDragOverRef.current&&onDragOverRef.current(event),event.preventDefault()}function onDragLeave(event){(function isElementInZone(targetToCheck){const{defaultView}=ownerDocument;if(!(targetToCheck&&defaultView&&targetToCheck instanceof defaultView.HTMLElement&&element.contains(targetToCheck)))return!1;let elementToCheck=targetToCheck;do{if(elementToCheck.dataset.isDropZone)return elementToCheck===element}while(elementToCheck=elementToCheck.parentElement);return!1})(event.relatedTarget)||onDragLeaveRef.current&&onDragLeaveRef.current(event)}function onDrop(event){event.defaultPrevented||(event.preventDefault(),event.dataTransfer&&event.dataTransfer.files.length,onDropRef.current&&onDropRef.current(event),maybeDragEnd(event))}function maybeDragEnd(event){isDragging&&(isDragging=!1,ownerDocument.addEventListener("dragenter",maybeDragStart),ownerDocument.removeEventListener("dragend",maybeDragEnd),ownerDocument.removeEventListener("mousemove",maybeDragEnd),onDragEndRef.current&&onDragEndRef.current(event))}return element.dataset.isDropZone="true",element.addEventListener("drop",onDrop),element.addEventListener("dragenter",onDragEnter),element.addEventListener("dragover",onDragOver),element.addEventListener("dragleave",onDragLeave),ownerDocument.addEventListener("dragenter",maybeDragStart),()=>{onDropRef.current=null,onDragStartRef.current=null,onDragEnterRef.current=null,onDragLeaveRef.current=null,onDragEndRef.current=null,onDragOverRef.current=null,delete element.dataset.isDropZone,element.removeEventListener("drop",onDrop),element.removeEventListener("dragenter",onDragEnter),element.removeEventListener("dragover",onDragOver),element.removeEventListener("dragleave",onDragLeave),ownerDocument.removeEventListener("dragend",maybeDragEnd),ownerDocument.removeEventListener("mousemove",maybeDragEnd),ownerDocument.addEventListener("dragenter",maybeDragStart)}}),[isDisabled])}var use_media_query=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-media-query/index.js");const use_reduced_motion=()=>(0,use_media_query.A)("(prefers-reduced-motion: reduce)");var motion=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/render/dom/motion.mjs"),tslib_es6=__webpack_require__("../../node_modules/.pnpm/tslib@2.6.3/node_modules/tslib/tslib.es6.mjs"),process=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/utils/process.mjs"),es=__webpack_require__("../../node_modules/.pnpm/framesync@6.0.1/node_modules/framesync/dist/es/index.mjs"),use_isomorphic_effect=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");function useIsMounted(){var isMounted=(0,react.useRef)(!1);return(0,use_isomorphic_effect.E)((function(){return isMounted.current=!0,function(){isMounted.current=!1}}),[]),isMounted}var PresenceContext=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/utils/use-constant.mjs"),use_id=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/utils/use-id.mjs"),PresenceChild=function(_a){var children=_a.children,initial=_a.initial,isPresent=_a.isPresent,onExitComplete=_a.onExitComplete,custom=_a.custom,presenceAffectsLayout=_a.presenceAffectsLayout,presenceChildren=(0,use_constant.M)(newChildrenMap),id=(0,use_id.B)(),context=(0,react.useMemo)((function(){return{id,initial,isPresent,custom,onExitComplete:function(childId){var e_1,_a;presenceChildren.set(childId,!0);try{for(var _b=(0,tslib_es6.Ju)(presenceChildren.values()),_c=_b.next();!_c.done;_c=_b.next()){if(!_c.value)return}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}null==onExitComplete||onExitComplete()},register:function(childId){return presenceChildren.set(childId,!1),function(){return presenceChildren.delete(childId)}}}}),presenceAffectsLayout?void 0:[isPresent]);return(0,react.useMemo)((function(){presenceChildren.forEach((function(_,key){return presenceChildren.set(key,!1)}))}),[isPresent]),react.useEffect((function(){!isPresent&&!presenceChildren.size&&(null==onExitComplete||onExitComplete())}),[isPresent]),react.createElement(PresenceContext.t.Provider,{value:context},children)};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"),use_unmount_effect=__webpack_require__("../../node_modules/.pnpm/framer-motion@6.5.1_react-dom@17.0.2_react@17.0.2__react@17.0.2/node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs"),getChildKey=function(child){return child.key||""};var AnimatePresence=function(_a){var children=_a.children,custom=_a.custom,_b=_a.initial,initial=void 0===_b||_b,onExitComplete=_a.onExitComplete,exitBeforeEnter=_a.exitBeforeEnter,_c=_a.presenceAffectsLayout,presenceAffectsLayout=void 0===_c||_c,_d=(0,tslib_es6.zs)(function useForceUpdate(){var isMounted=useIsMounted(),_a=(0,tslib_es6.zs)((0,react.useState)(0),2),forcedRenderCount=_a[0],setForcedRenderCount=_a[1],forceRender=(0,react.useCallback)((function(){isMounted.current&&setForcedRenderCount(forcedRenderCount+1)}),[forcedRenderCount]);return[(0,react.useCallback)((function(){return es.Ay.postRender(forceRender)}),[forceRender]),forcedRenderCount]}(),1),forceRender=_d[0],forceRenderLayoutGroup=(0,react.useContext)(LayoutGroupContext.L).forceRender;forceRenderLayoutGroup&&(forceRender=forceRenderLayoutGroup);var isMounted=useIsMounted(),filteredChildren=function onlyElements(children){var filtered=[];return react.Children.forEach(children,(function(child){(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}(children),childrenToRender=filteredChildren,exiting=new Set,presentChildren=(0,react.useRef)(childrenToRender),allChildren=(0,react.useRef)(new Map).current,isInitialRender=(0,react.useRef)(!0);if((0,use_isomorphic_effect.E)((function(){isInitialRender.current=!1,function updateChildLookup(children,allChildren){children.forEach((function(child){var key=getChildKey(child);allChildren.set(key,child)}))}(filteredChildren,allChildren),presentChildren.current=childrenToRender})),(0,use_unmount_effect.l)((function(){isInitialRender.current=!0,allChildren.clear(),exiting.clear()})),isInitialRender.current)return react.createElement(react.Fragment,null,childrenToRender.map((function(child){return react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,initial:!!initial&&void 0,presenceAffectsLayout},child)})));childrenToRender=(0,tslib_es6.fX)([],(0,tslib_es6.zs)(childrenToRender),!1);for(var presentKeys=presentChildren.current.map(getChildKey),targetKeys=filteredChildren.map(getChildKey),numPresent=presentKeys.length,i=0;i<numPresent;i++){var key=presentKeys[i];-1===targetKeys.indexOf(key)&&exiting.add(key)}return exitBeforeEnter&&exiting.size&&(childrenToRender=[]),exiting.forEach((function(key){if(-1===targetKeys.indexOf(key)){var child=allChildren.get(key);if(child){var insertionIndex=presentKeys.indexOf(key);childrenToRender.splice(insertionIndex,0,react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!1,onExitComplete:function(){allChildren.delete(key),exiting.delete(key);var removeIndex=presentChildren.current.findIndex((function(presentChild){return presentChild.key===key}));if(presentChildren.current.splice(removeIndex,1),!exiting.size){if(presentChildren.current=filteredChildren,!1===isMounted.current)return;forceRender(),onExitComplete&&onExitComplete()}},custom,presenceAffectsLayout},child))}}})),childrenToRender=childrenToRender.map((function(child){var key=child.key;return exiting.has(key)?child:react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,presenceAffectsLayout},child)})),"production"!==process._&&exitBeforeEnter&&childrenToRender.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),react.createElement(react.Fragment,null,exiting.size?childrenToRender:childrenToRender.map((function(child){return(0,react.cloneElement)(child)})))};function DropZoneComponent(_ref){let{className,label,onFilesDrop,onHTMLDrop,onDrop}=_ref;const[isDraggingOverDocument,setIsDraggingOverDocument]=(0,react.useState)(),[isDraggingOverElement,setIsDraggingOverElement]=(0,react.useState)(),[type,setType]=(0,react.useState)(),ref=useDropZone({onDrop(event){const files=(0,data_transfer.$)(event.dataTransfer),html=event.dataTransfer.getData("text/html");html&&onHTMLDrop?onHTMLDrop(html):files.length&&onFilesDrop?onFilesDrop(files):onDrop&&onDrop(event)},onDragStart(event){setIsDraggingOverDocument(!0);let _type="default";(0,lodash.includes)(event.dataTransfer.types,"text/html")?_type="html":((0,lodash.includes)(event.dataTransfer.types,"Files")||(0,data_transfer.$)(event.dataTransfer).length>0)&&(_type="file"),setType(_type)},onDragEnd(){setIsDraggingOverDocument(!1),setType()},onDragEnter(){setIsDraggingOverElement(!0)},onDragLeave(){setIsDraggingOverElement(!1)}}),disableMotion=use_reduced_motion();let children;const backdrop={hidden:{scaleY:0,opacity:0},show:{scaleY:1,opacity:1,transition:{type:"tween",duration:.2,delay:.1,delayChildren:.2}},exit:{scaleY:1,opacity:0,transition:{duration:.3,delayChildren:0}}},foreground={hidden:{opacity:0,scale:.75},show:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};isDraggingOverElement&&(children=(0,react.createElement)(motion.P.div,{variants:backdrop,initial:disableMotion?"show":"hidden",animate:"show",exit:disableMotion?"show":"exit",className:"components-drop-zone__content"},(0,react.createElement)(motion.P.div,{variants:foreground},(0,react.createElement)(icon.A,{icon:library_upload,className:"components-drop-zone__content-icon"}),(0,react.createElement)("span",{className:"components-drop-zone__content-text"},label||(0,build_module.__)("Drop files to upload")))));const classes=classnames_default()("components-drop-zone",className,{"is-active":(isDraggingOverDocument||isDraggingOverElement)&&("file"===type&&onFilesDrop||"html"===type&&onHTMLDrop||"default"===type&&onDrop),"is-dragging-over-document":isDraggingOverDocument,"is-dragging-over-element":isDraggingOverElement,[`is-dragging-${type}`]:!!type});return(0,react.createElement)("div",{ref,className:classes},disableMotion?children:(0,react.createElement)(AnimatePresence,null,children))}var media_utils_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+media-utils@3.4.1/node_modules/@wordpress/media-utils/build-module/index.js"),DEFAULT_ALLOWED_MEDIA_TYPES=["image"],MediaUploader=function MediaUploader(_ref){var _ref$allowedMediaType=_ref.allowedMediaTypes,allowedMediaTypes=void 0===_ref$allowedMediaType?DEFAULT_ALLOWED_MEDIA_TYPES:_ref$allowedMediaType,_ref$buttonText=_ref.buttonText,buttonText=void 0===_ref$buttonText?(0,build_module.__)("Choose images","woocommerce"):_ref$buttonText,buttonProps=_ref.buttonProps,_ref$hasDropZone=_ref.hasDropZone,hasDropZone=void 0===_ref$hasDropZone||_ref$hasDropZone,_ref$label=_ref.label,label=void 0===_ref$label?(0,build_module.__)("Drag images here or click to upload","woocommerce"):_ref$label,_ref$maxUploadFileSiz=_ref.maxUploadFileSize,maxUploadFileSize=void 0===_ref$maxUploadFileSiz?1e7:_ref$maxUploadFileSiz,_ref$MediaUploadCompo=_ref.MediaUploadComponent,MediaUploadComponent=void 0===_ref$MediaUploadCompo?media_utils_build_module.Q:_ref$MediaUploadCompo,_ref$multipleSelect=_ref.multipleSelect,multipleSelect=void 0!==_ref$multipleSelect&&_ref$multipleSelect,value=_ref.value,_ref$onError=_ref.onError,onError=void 0===_ref$onError?function(){return null}:_ref$onError,_ref$onFileUploadChan=_ref.onFileUploadChange,onFileUploadChange=void 0===_ref$onFileUploadChan?function(){return null}:_ref$onFileUploadChan,_ref$onMediaGalleryOp=_ref.onMediaGalleryOpen,onMediaGalleryOpen=void 0===_ref$onMediaGalleryOp?function(){return null}:_ref$onMediaGalleryOp,_ref$onUpload=_ref.onUpload,onUpload=void 0===_ref$onUpload?function(){return null}:_ref$onUpload,_ref$onSelect=_ref.onSelect,onSelect=void 0===_ref$onSelect?function(){return null}:_ref$onSelect,_ref$uploadMedia=_ref.uploadMedia,uploadMedia=void 0===_ref$uploadMedia?media_utils_build_module.o:_ref$uploadMedia,additionalData=_ref.additionalData,multiple=Boolean(multipleSelect);return(0,react.createElement)(form_file_upload,{accept:allowedMediaTypes.toString(),multiple,onChange:function onChange(_ref2){var currentTarget=_ref2.currentTarget;uploadMedia({allowedTypes:allowedMediaTypes,filesList:currentTarget.files,maxUploadFileSize,onError,onFileChange:function onFileChange(files){onFileUploadChange(multiple?files:files[0])},additionalData})},render:function render(_ref3){var openFileDialog=_ref3.openFileDialog;return(0,react.createElement)("div",{className:"woocommerce-form-file-upload",onKeyPress:function onKeyPress(){},tabIndex:0,role:"button",onClick:function onClick(event){event.target.closest("button")||openFileDialog()},onBlur:function onBlur(){}},(0,react.createElement)("div",{className:"woocommerce-media-uploader"},(0,react.createElement)("div",{className:"woocommerce-media-uploader__label"},label),(0,react.createElement)(MediaUploadComponent,{value,onSelect,allowedTypes:allowedMediaTypes,multiple:multipleSelect,render:function render(_ref4){var open=_ref4.open;return buttonText||buttonProps?(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({variant:"secondary",onClick:function onClick(){onMediaGalleryOpen(),open()}},buttonProps),buttonText):(0,react.createElement)(react.Fragment,null)}}),hasDropZone&&(0,react.createElement)(DropZoneComponent,{onFilesDrop:function onFilesDrop(droppedFiles){return uploadMedia({allowedTypes:allowedMediaTypes,filesList:droppedFiles,maxUploadFileSize,onError,onFileChange:function onFileChange(files){onUpload(multiple?files:files[0])},additionalData})}})))}})};try{MediaUploader.displayName="MediaUploader",MediaUploader.__docgenInfo={description:"",displayName:"MediaUploader",props:{allowedMediaTypes:{defaultValue:{value:"[ 'image' ]"},description:"",name:"allowedMediaTypes",required:!1,type:{name:"string[]"}},buttonText:{defaultValue:{value:"__( 'Choose images', 'woocommerce' )"},description:"",name:"buttonText",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"Props"}},hasDropZone:{defaultValue:{value:"true"},description:"",name:"hasDropZone",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"Element"}},label:{defaultValue:{value:"__( 'Drag images here or click to upload', 'woocommerce' )"},description:"",name:"label",required:!1,type:{name:"string | Element"}},maxUploadFileSize:{defaultValue:{value:"10000000"},description:"",name:"maxUploadFileSize",required:!1,type:{name:"number"}},MediaUploadComponent:{defaultValue:null,description:"",name:"MediaUploadComponent",required:!1,type:{name:"(<T extends boolean = false>(props: Props<T>) => Element)"}},multipleSelect:{defaultValue:{value:"false"},description:"",name:"multipleSelect",required:!1,type:{name:"string | boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number | number[]"}},onSelect:{defaultValue:{value:"() => null"},description:"",name:"onSelect",required:!1,type:{name:"((value: MediaItem[] | ({ id: number; } & { [k: string]: any; })) => void)"}},onError:{defaultValue:{value:"() => null"},description:"",name:"onError",required:!1,type:{name:"MediaUploaderErrorCallback"}},onMediaGalleryOpen:{defaultValue:{value:"() => null"},description:"",name:"onMediaGalleryOpen",required:!1,type:{name:"(() => void)"}},onUpload:{defaultValue:{value:"() => null"},description:"",name:"onUpload",required:!1,type:{name:"((files: MediaItem | MediaItem[]) => void)"}},onFileUploadChange:{defaultValue:{value:"() => null"},description:"",name:"onFileUploadChange",required:!1,type:{name:"((files: MediaItem | MediaItem[]) => void)"}},uploadMedia:{defaultValue:null,description:"",name:"uploadMedia",required:!1,type:{name:"((options: UploadMediaOptions) => Promise<void>)"}},additionalData:{defaultValue:null,description:"",name:"additionalData",required:!1,type:{name:"Record<string, unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/media-uploader.tsx#MediaUploader"]={docgenInfo:MediaUploader.__docgenInfo,name:"MediaUploader",path:"../../packages/js/components/src/media-uploader/media-uploader.tsx#MediaUploader"})}catch(__react_docgen_typescript_loader_error){}var mock_media_uploader=__webpack_require__("../../packages/js/components/src/media-uploader/stories/mock-media-uploader.tsx"),ImageGallery=function ImageGallery(_ref){var images=_ref.images;return(0,react.createElement)("div",{style:{marginBottom:"16px"}},images.map((function(image,index){return(0,react.createElement)("img",{key:index,alt:image.alt,src:image.url,style:{maxWidth:"100px",marginRight:"16px"}})})))},readImage=function readImage(file){return new Promise((function(resolve){var fileReader=new FileReader;fileReader.onload=function(event){var _event$target,image={alt:"Temporary image",url:null==event||null===(_event$target=event.target)||void 0===_event$target?void 0:_event$target.result};resolve(image)},fileReader.readAsDataURL(file)}))},mockUploadMedia=function(){var _ref3=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(_ref2){var filesList,onFileChange,list,images;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return filesList=_ref2.filesList,onFileChange=_ref2.onFileChange,_context.next=3,Object.keys(filesList).map((function(key){return filesList[key]}));case 3:return list=_context.sent,_context.next=6,Promise.all(list.map((function(file){return"object"===(0,esm_typeof.A)(file)?readImage(file):{}})));case 6:images=_context.sent,onFileChange(images);case 8:case"end":return _context.stop()}}),_callee)})));return function mockUploadMedia(_x){return _ref3.apply(this,arguments)}}(),Basic=function Basic(){var _useState=(0,react.useState)([]),_useState2=(0,slicedToArray.A)(_useState,2),images=_useState2[0],setImages=_useState2[1];return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(ImageGallery,{images}),(0,react.createElement)(MediaUploader,{MediaUploadComponent:mock_media_uploader.I,onSelect:function onSelect(file){return setImages([].concat((0,toConsumableArray.A)(images),[file]))},onError:function onError(){return null},onFileUploadChange:function onFileUploadChange(files){return setImages([].concat((0,toConsumableArray.A)(images),(0,toConsumableArray.A)(files)))},onUpload:function onUpload(files){return setImages([].concat((0,toConsumableArray.A)(images),(0,toConsumableArray.A)(files)))},uploadMedia:mockUploadMedia}))},DisabledDropZone=function DisabledDropZone(){var _useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.A)(_useState3,2),images=_useState4[0],setImages=_useState4[1];return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(ImageGallery,{images}),(0,react.createElement)(MediaUploader,{hasDropZone:!1,label:"Click the button below to upload",MediaUploadComponent:mock_media_uploader.I,onFileUploadChange:function onFileUploadChange(files){return setImages([].concat((0,toConsumableArray.A)(images),(0,toConsumableArray.A)(files)))},onSelect:function onSelect(file){return setImages([].concat((0,toConsumableArray.A)(images),[file]))},onError:function onError(){return null},uploadMedia:mockUploadMedia}))},MaxUploadFileSize=function MaxUploadFileSize(){var _useState5=(0,react.useState)(null),_useState6=(0,slicedToArray.A)(_useState5,2),error=_useState6[0],setError=_useState6[1];return(0,react.createElement)(react.Fragment,null,error&&(0,react.createElement)(notice.A,{isDismissible:!1,status:"error"},error),(0,react.createElement)(MediaUploader,{maxUploadFileSize:1e3,MediaUploadComponent:mock_media_uploader.I,onSelect:function onSelect(){return null},onError:function onError(e){return setError(e.message)},onUpload:function onUpload(){return null}}))},ButtonWithOnlyIcon=function ButtonWithOnlyIcon(){var _useState7=(0,react.useState)(null),_useState8=(0,slicedToArray.A)(_useState7,2),error=_useState8[0],setError=_useState8[1];return(0,react.createElement)(react.Fragment,null,error&&(0,react.createElement)(notice.A,{isDismissible:!1,status:"error"},error),(0,react.createElement)(MediaUploader,{maxUploadFileSize:1e3,buttonProps:{icon:cloud_upload,iconSize:32,variant:"tertiary","aria-label":"Upload media"},buttonText:"",MediaUploadComponent:mock_media_uploader.I,onSelect:function onSelect(){return null},onError:function onError(e){return setError(e.message)},onUpload:function onUpload(){return null}}))};const media_uploader_story={title:"WooCommerce Admin/components/MediaUploader",component:Basic};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"() => {\n  const [images, setImages] = useState<File[]>([]);\n  return <>\n            <ImageGallery images={images} />\n            <MediaUploader MediaUploadComponent={MockMediaUpload} onSelect={file => setImages([...images, file])} onError={() => null} onFileUploadChange={files => setImages([...images, ...files])} onUpload={files => setImages([...images, ...files])} uploadMedia={mockUploadMedia} />\n        </>;\n}",...Basic.parameters?.docs?.source}}},DisabledDropZone.parameters={...DisabledDropZone.parameters,docs:{...DisabledDropZone.parameters?.docs,source:{originalSource:"() => {\n  const [images, setImages] = useState<File[]>([]);\n  return <>\n            <ImageGallery images={images} />\n            <MediaUploader hasDropZone={false} label={'Click the button below to upload'} MediaUploadComponent={MockMediaUpload} onFileUploadChange={files => setImages([...images, ...files])} onSelect={file => setImages([...images, file])} onError={() => null} uploadMedia={mockUploadMedia} />\n        </>;\n}",...DisabledDropZone.parameters?.docs?.source}}},MaxUploadFileSize.parameters={...MaxUploadFileSize.parameters,docs:{...MaxUploadFileSize.parameters?.docs,source:{originalSource:"() => {\n  const [error, setError] = useState<string | null>(null);\n  return <>\n            {error && <Notice isDismissible={false} status={'error'}>\n                    {error}\n                </Notice>}\n\n            <MediaUploader maxUploadFileSize={1000} MediaUploadComponent={MockMediaUpload} onSelect={() => null} onError={e => setError(e.message)} onUpload={() => null} />\n        </>;\n}",...MaxUploadFileSize.parameters?.docs?.source}}},ButtonWithOnlyIcon.parameters={...ButtonWithOnlyIcon.parameters,docs:{...ButtonWithOnlyIcon.parameters?.docs,source:{originalSource:"() => {\n  const [error, setError] = useState<string | null>(null);\n  return <>\n            {error && <Notice isDismissible={false} status={'error'}>\n                    {error}\n                </Notice>}\n\n            <MediaUploader maxUploadFileSize={1000} buttonProps={{\n      icon: cloudUpload,\n      iconSize: 32,\n      variant: 'tertiary',\n      'aria-label': 'Upload media'\n    }} buttonText=\"\" MediaUploadComponent={MockMediaUpload} onSelect={() => null} onError={e => setError(e.message)} onUpload={() => null} />\n        </>;\n}",...ButtonWithOnlyIcon.parameters?.docs?.source}}};try{Basic.displayName="Basic",Basic.__docgenInfo={description:"",displayName:"Basic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#Basic"]={docgenInfo:Basic.__docgenInfo,name:"Basic",path:"../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#Basic"})}catch(__react_docgen_typescript_loader_error){}try{DisabledDropZone.displayName="DisabledDropZone",DisabledDropZone.__docgenInfo={description:"",displayName:"DisabledDropZone",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#DisabledDropZone"]={docgenInfo:DisabledDropZone.__docgenInfo,name:"DisabledDropZone",path:"../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#DisabledDropZone"})}catch(__react_docgen_typescript_loader_error){}try{MaxUploadFileSize.displayName="MaxUploadFileSize",MaxUploadFileSize.__docgenInfo={description:"",displayName:"MaxUploadFileSize",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#MaxUploadFileSize"]={docgenInfo:MaxUploadFileSize.__docgenInfo,name:"MaxUploadFileSize",path:"../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#MaxUploadFileSize"})}catch(__react_docgen_typescript_loader_error){}try{ButtonWithOnlyIcon.displayName="ButtonWithOnlyIcon",ButtonWithOnlyIcon.__docgenInfo={description:"",displayName:"ButtonWithOnlyIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#ButtonWithOnlyIcon"]={docgenInfo:ButtonWithOnlyIcon.__docgenInfo,name:"ButtonWithOnlyIcon",path:"../../packages/js/components/src/media-uploader/stories/media-uploader.story.tsx#ButtonWithOnlyIcon"})}catch(__react_docgen_typescript_loader_error){}}}]);